<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Festa da Isabella</title>
  <style>
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;
      line-height:1.5;background:#fdfdfe;color:#333
    }
    a{color:#5b3fa2;text-decoration:none}
    .container{max-width:960px;margin:0 auto;padding:20px}

    /* Hero */
    .hero{
      position:relative;background:url('hero.jpg') center/cover no-repeat;
      height:60vh;min-height:320px;display:flex;align-items:center;justify-content:center;
      color:#fff;text-align:center
    }
    .hero::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.2)}
    .hero h1{position:relative;font-size:2.5rem;margin-bottom:.5rem;font-weight:700}
    .hero p{position:relative;font-size:1.2rem;margin-bottom:0}

    /* Cards */
    .card{
      background:rgba(255,255,255,.8);backdrop-filter:blur(8px);
      border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 4px 6px rgba(0,0,0,.05)
    }
    .card h2{font-size:1.5rem;margin-bottom:10px;color:#5b3fa2}
    .details-list{list-style:none;display:grid;grid-template-columns:1fr;gap:.5rem}
    .details-item{display:flex;align-items:center;gap:.5rem;font-size:1rem}
    .details-item .icon{font-size:1.3rem;color:#5b3fa2}

    /* Bot√µes */
    .button-row{display:flex;flex-wrap:wrap;gap:15px;margin-top:15px}
    .btn{display:inline-block;padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:background .2s;text-align:center;border:none}
    .btn-primary{background:#5b3fa2;color:#fff}.btn-primary:hover{background:#493183}
    .btn-secondary{background:#f1eaff;color:#5b3fa2}.btn-secondary:hover{background:#e5d9ff}

    /* √Ålbum (grade 3x2, moldura inclinada) */
    .album-preview{
      display:grid;
      grid-template-columns: repeat(3, 1fr); /* 3 por linha */
      gap:10px;
      justify-items:center;
      margin-bottom:15px
    }
    .album-preview .frame{
      position:relative;overflow:hidden;border-radius:12px;aspect-ratio:1/1;
      width:120px; /* tamanho das miniaturas */
      box-shadow:0 4px 6px rgba(0,0,0,.1);
      transform:rotate(var(--tilt,0deg));
      transition:transform .5s ease
    }
    .album-preview .frame img{
      width:100%;height:100%;display:block;object-fit:cover;object-position:center
    }

    /* Responsivo */
    @media (min-width:600px){.details-list{grid-template-columns:repeat(2,1fr)}}
    @media (min-width:900px){.details-list{grid-template-columns:repeat(3,1fr)}}

    /* Mapa + Playlist */
    .map-container{width:100%;height:300px;border-radius:12px;overflow:hidden}
    iframe{width:100%;height:100%;border:0}
    .playlist-iframe{width:100%;max-width:600px;height:180px;border-radius:12px;overflow:hidden;border:none}
  </style>
</head>
<body>
  <header class="hero">
    <div>
      <h1>Festa da Isabella</h1>
      <p>Celebrando seu 1¬∫ anivers√°rio</p>
    </div>
  </header>

  <main class="container">
    <!-- Intro -->
    <section class="card intro-card">
      <h2>Boas-vindas</h2>
      <p>
        √â com muita alegria que convidamos voc√™ para celebrar o 1¬∫ anivers√°rio da nossa princesa Isabella! üéâüíñ<br>
        Ser√° um momento especial para reunirmos fam√≠lia e amigos, com muita divers√£o, m√∫sica e boas lembran√ßas.<br>
        Esperamos voc√™ para comemorar conosco esse dia t√£o importante! ü•≥‚ú®
      </p>
    </section>

    <!-- Informa√ß√µes -->
    <section class="card">
      <h2>Informa√ß√µes da festa</h2>
      <ul class="details-list">
        <li class="details-item"><span class="icon">üìÖ</span>22 de novembro de 2025, 14h00‚Äì18h00</li>
        <li class="details-item"><span class="icon">üìç</span>Estr Zumbi dos Palmares, 286 - Tingu√°, Nova Igua√ßu - RJ, 26063-355, Brasil</li>
        <li class="details-item"><span class="icon">üëó</span>Traje: casual festivo</li>
      </ul>
      <div class="button-row">
        <a class="btn btn-primary" href="festa_da_isabella.ics" download>Adicionar ao calend√°rio</a>
        <!-- Confirmar presen√ßa direto no WhatsApp -->
        <a class="btn btn-secondary"
           href="https://wa.me/5521993835163?text=Ol%C3%A1%2C%20confirmo%20minha%20presen%C3%A7a%20no%20anivers%C3%A1rio%20da%20Isabella!"
           target="_blank" rel="noopener">
          Confirmar presen√ßa
        </a>
      </div>
    </section>

    <!-- √Ålbum (6 miniaturas em 2 linhas) -->
    <section class="card">
      <h2>√Ålbum de fotos</h2>
      <p>Alguns momentos especiais ‚Äî as fotos abaixo se renovam periodicamente.</p>

      <div class="album-preview">
        <!-- 6 molduras fixas; o JS faz o rod√≠zio das imagens -->
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
      </div>

      <div class="button-row" style="margin-top:14px">
        <a class="btn btn-primary" href="https://www.icloud.com/sharedalbum/#B2RJEsNWnGMlnHa" target="_blank" rel="noopener">
          Abrir √°lbum completo
        </a>
      </div>
    </section>

    <!-- Mapa -->
    <section class="card">
      <h2>Como chegar</h2>
      <p>Use o mapa abaixo para visualizar a localiza√ß√£o da festa e tra√ßar sua rota.</p>
      <div class="map-container">
        <iframe src="https://maps.google.com/maps?q=Estr%20Zumbi%20dos%20Palmares%2C%20286%20-%20Tingu%C3%A1%2C%20Nova%20Igua%C3%A7u%20-%20RJ%2C%2026063-355%2C%20Brasil&t=m&z=15&ie=UTF8&iwloc=&output=embed" allowfullscreen loading="lazy"></iframe>
      </div>
      <div class="button-row">
        <a class="btn btn-secondary" href="https://www.google.com/maps/dir/?api=1&destination=Estr%20Zumbi%20dos%20Palmares%2C%20286%20-%20Tingu%C3%A1%2C%20Nova%20Igua%C3%A9u%20-%20RJ%2C%2026063-355%2C%20Brasil" target="_blank" rel="noopener">Tra√ßar rota</a>
        <a class="btn btn-secondary" href="https://www.google.com/maps/search/?api=1&query=Estr%20Zumbi%20dos%20Palmares%2C%20286%20-%20Tingu%C3%A1%2C%20Nova%20Igua%C3%A9u%20-%20RJ%2C%2026063-355%2C%20Brasil" target="_blank" rel="noopener">Abrir no Google Maps</a>
      </div>
    </section>

    <!-- Playlist -->
    <section class="card" id="playlist-section">
      <h2>Playlist da festa</h2>
      <p>A m√∫sica inicia na primeira intera√ß√£o (clique/rolagem/toque) por pol√≠tica dos navegadores.</p>
      <iframe class="playlist-iframe" allow="autoplay *; encrypted-media *; fullscreen *"
              sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
              src="https://embed.music.apple.com/br/playlist/playlist-festa-da-isabella/pl.u-MRjJtWNaq0M"
              title="Playlist da Festa"></iframe>
    </section>
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      /* ====== √Ålbum (10 fotos fonte, 6 vis√≠veis) ====== */
      const previewImages = [
        'album2/IMG_5139.jpeg',
        'album2/IMG_5010.jpeg',
        'album2/IMG_4772.jpeg',
        'album2/IMG_4765.jpeg',
        'album2/IMG_4639.jpeg',
        'album2/IMG_6911.jpeg',
        'album2/IMG_4450.jpeg',
        'album2/IMG_4352.jpeg',
        'album2/IMG_3056.jpeg',
        'album2/96f8947a-603d-43c7-b498-292922662164.jpeg'
      ];
      const frames = document.querySelectorAll('.album-preview .frame');

      function shuffle(arr){
        const a = arr.slice();
        for(let i=a.length-1;i>0;i--){
          const j = Math.floor(Math.random()*(i+1));
          [a[i],a[j]] = [a[j],a[i]];
        }
        return a;
      }
      function fillPreview(){
        const imgs = shuffle(previewImages);
        frames.forEach((frame, idx) => {
          const img = frame.querySelector('img');
          img.src = imgs[idx % imgs.length];
          const angle = (Math.random()*10 - 5);   // -5¬∞ a +5¬∞
          frame.style.setProperty('--tilt', angle + 'deg');
        });
      }
      fillPreview();
      setInterval(fillPreview, 8000);

      /* ====== M√∫sica: iniciar na primeira intera√ß√£o ====== */
      const playlistIframe = document.querySelector('.playlist-iframe');
      const playlistURL = 'https://music.apple.com/br/playlist/playlist-festa-da-isabella/pl.u-MRjJtWNaq0M';
      let musicStarted = false;

      function startMusicOnce(){
        if (musicStarted) return;
        musicStarted = true;
        // tenta mandar "play" para o embed (pode n√£o funcionar em todos os casos)
        try { playlistIframe?.contentWindow?.postMessage({ action:'play' }, '*'); } catch(e){}
        // abre Apple Music em nova aba (gesto do usu√°rio garante √°udio)
        window.open(playlistURL, '_blank', 'noopener');
        removeMusicListeners();
      }
      function addMusicListeners(){
        ['click','touchstart','keydown','wheel'].forEach(evt => {
          window.addEventListener(evt, startMusicOnce, { once:false, passive:true });
        });
      }
      function removeMusicListeners(){
        ['click','touchstart','keydown','wheel'].forEach(evt => {
          window.removeEventListener(evt, startMusicOnce, { passive:true });
        });
      }
      addMusicListeners();
    });
  </script>
</body>
</html>


