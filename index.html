<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Festa da Isabella</title>
  <style>
    :root{
      --roxo:#5b3fa2;
      --roxo-esc:#493183;
      --roxo-cl:#f1eaff;
      --bg:#fdfdfe;
      --txt:#333;
    }
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.5;background:var(--bg);color:var(--txt)}
    a{color:var(--roxo);text-decoration:none}
    .container{max-width:960px;margin:0 auto;padding:20px}

    /* Overlay de boas-vindas */
    .welcome-overlay{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);backdrop-filter:blur(4px)}
    .welcome-card{width:min(92vw,520px);background:#fff;border-radius:16px;padding:28px;text-align:center;box-shadow:0 8px 24px rgba(0,0,0,.2)}
    .welcome-card h2{font-size:1.6rem;color:var(--roxo);margin-bottom:8px}
    .welcome-card p{color:#444;margin-bottom:18px}
    .welcome-actions{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}

    /* Hero */
    .hero{position:relative;background:url('hero.jpg') center/cover no-repeat;height:60vh;min-height:320px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}
    .hero::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.2)}
    .hero h1{position:relative;font-size:2.5rem;margin-bottom:.5rem;font-weight:700}
    .hero p{position:relative;font-size:1.2rem;margin-bottom:0}

    /* Cards */
    .card{background:rgba(255,255,255,.8);backdrop-filter:blur(8px);border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 4px 6px rgba(0,0,0,.05)}
    .card h2{font-size:1.5rem;margin-bottom:10px;color:var(--roxo)}
    .details-list{list-style:none;display:grid;grid-template-columns:1fr;gap:.5rem}
    .details-item{display:flex;align-items:center;gap:.5rem;font-size:1rem}
    .details-item .icon{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width:1.4em;
      height:1.4em;
      font-size:1.2rem;
      line-height:1;
      transform:translateY(1px);
    }

    /* Bot√µes */
    .button-row{display:flex;flex-wrap:wrap;gap:15px;margin-top:15px}
    .btn{display:inline-block;padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:background .2s;text-align:center;border:none}
    .btn-primary{background:var(--roxo);color:#fff}
    .btn-primary:hover{background:var(--roxo-esc)}
    .btn-secondary{background:var(--roxo-cl);color:var(--roxo)}
    .btn-secondary:hover{filter:brightness(.97)}

    /* √Ålbum */
    .album-preview{display:grid;grid-template-columns: repeat(3, 1fr);gap:10px;justify-items:center;margin-bottom:15px}
    .album-preview .frame{position:relative;overflow:hidden;border-radius:12px;aspect-ratio:1/1;width:120px;box-shadow:0 4px 6px rgba(0,0,0,.1);transform:rotate(var(--tilt,0deg));transition:transform .5s ease}
    .album-preview .frame img{width:100%;height:100%;display:block;object-fit:cover;object-position:center}

    /* Responsivo */
    @media (min-width:600px){.details-list{grid-template-columns:repeat(2,1fr)}}
    @media (min-width:900px){.details-list{grid-template-columns:repeat(3,1fr)}}

    /* Mapa + Playlist */
    .map-container{width:100%;height:300px;border-radius:12px;overflow:hidden}
    iframe{width:100%;height:100%;border:0}
    .playlist-iframe{width:100%;max-width:600px;height:180px;border-radius:12px;overflow:hidden;border:none}

    /* Tempo */
    .weather-wrapper{display:flex;justify-content:center;margin-top:20px}
    .weather-card{text-align:center}
    .weather-date{font-size:.9rem;color:#666;margin-bottom:4px}
    .weather-text{font-size:1.1rem;color:var(--txt);margin-bottom:6px}
    .weather-source{font-size:.8rem;color:#888}

    /* Marca d'√°gua */
    footer{position:fixed;bottom:20px;left:0;width:100%;text-align:center;font-size:12px;color:#999}
  </style>
</head>
<body>

  <!-- Tela de Boas-vindas -->
  <div class="welcome-overlay" id="welcome">
    <div class="welcome-card">
      <h2>Bem-vindo(a) √† Festa da Isabella! üé∂</h2>
      <p>Toque a m√∫sica para entrar no clima da celebra√ß√£o.</p>
      <div class="welcome-actions">
        <button class="btn btn-primary" id="start-music">Entrar e tocar playlist</button>
        <button class="btn btn-secondary" id="enter-silent">Entrar sem m√∫sica</button>
      </div>
    </div>
  </div>

  <header class="hero">
    <div>
      <h1>Festa da Isabella</h1>
      <p>Celebrando seu 1¬∫ anivers√°rio</p>
    </div>
  </header>

  <main class="container">
    <section class="card intro-card">
      <h2>Boas-vindas</h2>
      <p>√â com muita alegria que convidamos voc√™ para celebrar o 1¬∫ anivers√°rio da nossa princesa Isabella! üéâüíñ</p>
    </section>

    <section class="card">
      <h2>Informa√ß√µes da festa</h2>
      <ul class="details-list">
        <li class="details-item"><span class="icon">üìÖ</span>22 de novembro de 2025, 14h00‚Äì18h00</li>
        <li class="details-item"><span class="icon">üìç</span>Estr Zumbi dos Palmares, 286 - Tingu√°, Nova Igua√ßu - RJ</li>
        <li class="details-item"><span class="icon">üëó</span>Traje: casual festivo</li>
      </ul>
      <div class="button-row">
        <a class="btn btn-primary" href="https://wa.me/5521993835163?text=Confirmo%20minha%20presen%C3%A7a%20no%20anivers%C3%A1rio%20da%20Isabella!" target="_blank">Confirmar presen√ßa</a>
        <a class="btn btn-secondary" href="festa_da_isabella.ics" download>Adicionar ao calend√°rio</a>
      </div>
    </section>

    <section class="card">
      <h2>√Ålbum de fotos</h2>
      <div class="album-preview">
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
      </div>
      <div class="button-row">
        <a class="btn btn-secondary" href="https://www.icloud.com/sharedalbum/#B2RJEsNWnGMlnHa" target="_blank">Abrir √°lbum completo</a>
      </div>
    </section>

    <section class="card">
      <h2>Como chegar</h2>
      <div class="map-container">
        <iframe src="https://maps.google.com/maps?q=Estr%20Zumbi%20dos%20Palmares%2C%20286%20-%20Tingu%C3%A1&t=m&z=15&ie=UTF8&iwloc=&output=embed"></iframe>
      </div>
    </section>

    <!-- Card Tempo -->
    <section class="weather-wrapper">
      <div class="weather-card card">
        <h2 class="weather-app">Tempo</h2>
        <div class="weather-date" id="weatherDate">‚Äî</div>
        <div class="weather-text" id="weatherText">Carregando‚Ä¶</div>
        <div class="weather-source" id="weatherSource">Fonte: ‚Äî</div>
      </div>
    </section>

    <section class="card" id="playlist-section">
      <h2>Playlist da festa</h2>
      <iframe class="playlist-iframe"
        allow="autoplay *; encrypted-media *; fullscreen *"
        src="https://open.spotify.com/embed/playlist/6FLOrumhEmeIucB1VJAjjV?utm_source=generator"
        title="Playlist da Festa"></iframe>
    </section>
  </main>

  <footer>
    ¬© 2025 Hugo Mattos. Todos os direitos reservados.
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const previewImages = [
        'album2/IMG_5139.jpeg','album2/IMG_5010.jpeg','album2/IMG_4772.jpeg',
        'album2/IMG_4765.jpeg','album2/IMG_4639.jpeg','album2/IMG_6911.jpeg',
        'album2/IMG_4450.jpeg','album2/IMG_4352.jpeg','album2/IMG_3056.jpeg',
        'album2/96f8947a-603d-43c7-b498-292922662164.jpeg'
      ];
      const frames = document.querySelectorAll('.album-preview .frame');
      function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}return a;}
      function fillPreview(){
        const imgs = shuffle(previewImages);
        frames.forEach((frame, idx) => {
          const img = frame.querySelector('img');
          img.src = imgs[idx % imgs.length];
          const angle = (Math.random()*10 - 5);
          frame.style.setProperty('--tilt', angle + 'deg');
        });
      }
      fillPreview();
      setInterval(fillPreview, 8000);

      const welcome = document.getElementById('welcome');
      const startBtn = document.getElementById('start-music');
      const enterSilent = document.getElementById('enter-silent');
      function closeWelcome(){welcome.style.display='none';}
      startBtn?.addEventListener('click', () => {closeWelcome();document.getElementById('playlist-section').scrollIntoView({behavior:'smooth'});});
      enterSilent?.addEventListener('click', closeWelcome);

      // Tempo API
      fetch(`https://api.open-meteo.com/v1/forecast?latitude=-22.679&longitude=-43.460&current_weather=true&timezone=America/Sao_Paulo`)
        .then(res => res.json())
        .then(data => {
          const date = new Date(data.current_weather.time);
          document.getElementById('weatherDate').textContent = date.toLocaleDateString('pt-BR', {weekday:'long', day:'numeric', month:'long'});
          document.getElementById('weatherText').textContent = `${data.current_weather.temperature}¬∞C, vento ${data.current_weather.windspeed} km/h`;
          document.getElementById('weatherSource').textContent = 'Fonte: Open-Meteo';
        });
    });
  </script>
</body>
</html>
