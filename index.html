<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Festa da Isabella</title>
  <style>
    :root{
      --roxo:#5b3fa2;
      --roxo-esc:#493183;
      --roxo-cl:#f1eaff;
      --bg:#fdfdfe;
      --txt:#333;
    }
    *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
    body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif;line-height:1.5;background:var(--bg);color:var(--txt)}
    a{color:var(--roxo);text-decoration:none}
    .container{max-width:960px;margin:0 auto;padding:20px}

    /* Overlay de boas‚Äëvindas (solicitar m√∫sica) */
    .welcome-overlay{position:fixed;inset:0;z-index:9999;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);backdrop-filter:blur(4px)}
    .welcome-card{width:min(92vw,520px);background:#fff;border-radius:16px;padding:28px;text-align:center;box-shadow:0 8px 24px rgba(0,0,0,.2)}
    .welcome-card h2{font-size:1.6rem;color:var(--roxo);margin-bottom:8px}
    .welcome-card p{color:#444;margin-bottom:18px}
    .welcome-actions{display:flex;gap:12px;justify-content:center;flex-wrap:wrap}

    /* Hero */
    .hero{position:relative;background:url('hero.jpg') center/cover no-repeat;height:60vh;min-height:320px;display:flex;align-items:center;justify-content:center;color:#fff;text-align:center}
    .hero::before{content:"";position:absolute;inset:0;background:rgba(0,0,0,.2)}
    .hero h1{position:relative;font-size:2.5rem;margin-bottom:.5rem;font-weight:700}
    .hero p{position:relative;font-size:1.2rem;margin-bottom:0}

    /* Cards padr√£o (global centralizado) */
    .card{background:rgba(255,255,255,.8);backdrop-filter:blur(8px);border-radius:12px;padding:20px;margin:20px 0;box-shadow:0 4px 6px rgba(0,0,0,.05); text-align:center}
    .card h2{color:var(--roxo);font-weight:800;letter-spacing:-0.02em;font-size:clamp(1.4rem,1.2rem + 1vw,1.8rem);margin-bottom:10px}
    .card p{margin:8px auto 0;max-width:60ch;color:#4a4a4a}
    .details-list{list-style:none;display:grid;grid-template-columns:1fr;gap:.5rem;justify-items:center}
    .details-item{display:flex;align-items:center;gap:.5rem;font-size:1rem;justify-content:center}
    .details-item .icon{
      display:inline-flex;align-items:center;justify-content:center;
      width:1.4em;height:1.4em;font-size:1.2rem;line-height:1;
      transform:translateY(1px);color:var(--roxo);
    }

    /* Bot√µes */
    .button-row{display:flex;flex-wrap:wrap;gap:15px;margin-top:15px;justify-content:center}
    .btn{display:inline-block;padding:12px 20px;border-radius:8px;font-weight:600;cursor:pointer;transition:background .2s;text-align:center;border:none}
    .btn-primary{background:var(--roxo);color:#fff}
    .btn-primary:hover{background:var(--roxo-esc)}
    .btn-secondary{background:var(--roxo-cl);color:var(--roxo)}
    .btn-secondary:hover{filter:brightness(.97)}

    /* √Ålbum (grade 3x2, moldura inclinada) */
    .album-preview{display:grid;grid-template-columns: repeat(3,1fr);gap:10px;justify-items:center;margin:4px auto 12px}
    .album-preview .frame{position:relative;overflow:hidden;border-radius:12px;aspect-ratio:1/1;width:120px;box-shadow:0 4px 6px rgba(0,0,0,.1);transform:rotate(var(--tilt,0deg));transition:transform .5s ease}
    .album-preview .frame img{width:100%;height:100%;display:block;object-fit:cover;object-position:center}

    /* Ajustes de espa√ßamento para cards "limpos" (sem subt√≠tulo) */
    .card--tight .album-preview{margin-top:6px}
    .card--tight .playlist-iframe{margin-top:6px}
    .card--tight .map-container{margin-top:6px}

    /* Responsivo */
    @media (min-width:600px){.details-list{grid-template-columns:repeat(2,1fr)}}
    @media (min-width:900px){.details-list{grid-template-columns:repeat(3,1fr)}}

    /* Mapa + Playlist */
    .map-container{width:100%;height:300px;border-radius:12px;overflow:hidden}
    iframe{width:100%;height:100%;border:0}
    .playlist-iframe{width:100%;max-width:600px;height:180px;border-radius:12px;overflow:hidden;border:none}

    /* Tempo */
    .weather-wrapper{display:flex;justify-content:center;margin:18px 0 90px}
    .weather-card{width:min(680px,92vw);padding:22px 18px;border-radius:12px;background:rgba(255,255,255,.8);backdrop-filter:blur(8px);box-shadow:0 4px 6px rgba(0,0,0,.05);color:var(--txt);text-align:center}
    .weather-app{color:var(--roxo);font-weight:800;letter-spacing:-0.02em;}
    .weather-date{margin-top:6px;font-size:1rem;color:#666}
    .weather-text{margin:14px auto 8px;font-size:1rem;line-height:1.5;max-width:60ch;color:#4a4a4a;font-weight:400}
    .weather-source{margin-top:6px;font-size:.9rem;color:#7a7a7a}
    .weather-source a{color:var(--roxo);text-decoration:none}
    .weather-source a:hover{text-decoration:underline}

    /* Marca d'√°gua */
    footer{position:fixed;bottom:20px;width:100%;text-align:center;font-size:12px;color:#999;}

    /* ===== Modal RSVP ===== */
    .modal{position:fixed;inset:0;background:rgba(0,0,0,.45);backdrop-filter:blur(2px);display:none;align-items:center;justify-content:center;z-index:9998}
    .modal.show{display:flex}
    .modal-card{width:min(92vw,620px);background:#fff;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,.2);padding:20px}
    .modal-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px}
    .modal-header h3{color:var(--roxo);font-size:1.4rem}
    .modal-close{background:#eee;border:none;border-radius:8px;padding:6px 10px;cursor:pointer}
    .form-row{display:grid;grid-template-columns:1fr;gap:10px;margin-top:12px}
    .form-row label{font-weight:600;font-size:.95rem}
    .form-row input, .form-row select{width:100%;padding:10px 12px;border:1px solid #ddd;border-radius:10px;font-size:1rem}
    .rsvp-options{display:flex;gap:10px;margin-top:8px;justify-content:center}
    .pill{border:1px solid var(--roxo);color:var(--roxo);padding:8px 12px;border-radius:999px;cursor:pointer}
    .pill.active{background:var(--roxo);color:#fff}
    .children-list{display:flex;flex-direction:column;gap:8px}
    .child-row{display:grid;grid-template-columns:2fr 1fr auto;gap:8px}
    .child-row button{border:none;background:#f3f3f3;border-radius:10px;padding:0 10px;cursor:pointer}
    .modal-actions{display:flex;justify-content:center;gap:12px;margin-top:16px}
    .hint{font-size:.9rem;color:#666;margin-top:6px;text-align:center}
  </style>
</head>
<body>

  <!-- M√∫sica ambiente (MP3 local) -->
  <audio id="ambient-music" src="assets/kids-children-baby-music-363272.mp3" preload="auto" loop></audio>

  <!-- Tela de Boas‚Äëvindas para iniciar m√∫sica -->
  <div class="welcome-overlay" id="welcome">
    <div class="welcome-card">
      <h2>Bem‚Äëvindo(a) √† Festa da Isabella! üé∂</h2>
      <p>Toque a m√∫sica para entrar no clima da celebra√ß√£o.</p>
      <div class="welcome-actions">
        <button class="btn btn-primary" id="start-music">Entrar e tocar playlist</button>
        <button class="btn btn-secondary" id="enter-silent">Entrar sem m√∫sica</button>
      </div>
    </div>
  </div>

  <header class="hero">
    <div>
      <h1>Festa da Isabella</h1>
      <p>Celebrando seu 1¬∫ anivers√°rio</p>
    </div>
  </header>

  <main class="container">
    <!-- Intro -->
    <section class="card intro-card">
      <h2>Boas-vindas</h2>
      <p>
        √â com muita alegria que convidamos voc√™ para celebrar o 1¬∫ anivers√°rio da nossa princesa Isabella! üéâüíñ<br>
        Ser√° um momento especial para reunirmos fam√≠lia e amigos, com muita divers√£o, m√∫sica e boas lembran√ßas.<br>
        Esperamos voc√™ para comemorar conosco esse dia t√£o importante! ü•≥‚ú®
      </p>
    </section>

    <!-- Informa√ß√µes -->
    <section class="card">
      <h2>Informa√ß√µes da festa</h2>
      <ul class="details-list">
        <li class="details-item"><span class="icon">üìÖ</span>22 de novembro de 2025, 14h00‚Äì18h00</li>
        <li class="details-item">
          <span class="icon">üìç</span>
          S√≠tio Verdes Encantos ‚Äì Estr Zumbi dos Palmares, 286 - Tingu√°, Nova Igua√ßu - RJ, 26063-355, Brasil
        </li>
        <li class="details-item"><span class="icon">üëó</span>Traje: casual festivo</li>
      </ul>
      <div class="button-row">
        <button class="btn btn-primary" id="open-rsvp">Confirmar presen√ßa</button>
        <a class="btn btn-secondary" href="festa_da_isabella.ics" download>Adicionar ao calend√°rio</a>
      </div>
    </section>

    <!-- √Ålbum -->
    <section class="card card--tight">
      <h2>√Ålbum de fotos</h2>
      <div class="album-preview">
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
        <div class="frame"><img alt=""></div>
      </div>
      <div class="button-row" style="margin-top:10px">
        <a class="btn btn-secondary" href="https://www.icloud.com/sharedalbum/#B2RJEsNWnGMlnHa" target="_blank" rel="noopener">
          Abrir √°lbum completo
        </a>
      </div>
    </section>

    <!-- Mapa -->
    <section class="card card--tight">
      <h2>Como chegar</h2>
      <div class="map-container">
        <iframe
          src="https://maps.google.com/maps?q=S%C3%ADtio%20Verdes%20Encantos%20-%20Estr%20Zumbi%20dos%20Palmares%2C%20286%20-%20Tingu%C3%A1%2C%20Nova%20Igua%C3%A7u%20-%20RJ%2C%2026063-355%2C%20Brasil&t=m&z=15&ie=UTF8&iwloc=&output=embed"
          allowfullscreen loading="lazy"></iframe>
      </div>
      <div class="button-row">
        <a class="btn btn-secondary"
           href="https://www.google.com/maps/dir/?api=1&destination=S%C3%ADtio%20Verdes%20Encantos%20-%20Estr%20Zumbi%20dos%20Palmares%2C%20286%20-%20Tingu%C3%A1%2C%20Nova%20Igua%C3%A7u%20-%20RJ%2C%2026063-355%2C%20Brasil"
           target="_blank" rel="noopener">Tra√ßar rota</a>
        <a class="btn btn-secondary"
           href="https://www.google.com/maps/search/?api=1&query=S%C3%ADtio%20Verdes%20Encantos%20Estr%20Zumbi%20dos%20Palmares%2C%20286%20-%20Tingu%C3%A1%2C%20Nova%20Igua%C3%A9u%20-%20RJ%2C%2026063-355%2C%20Brasil"
           target="_blank" rel="noopener">Abrir no Google Maps</a>
      </div>
    </section>

    <!-- Sugest√£o de presentes -->
    <section class="card">
      <h2>Sugest√£o de presentes üíù</h2>
      <ul class="details-list">
        <li class="details-item"><span class="icon">üß∏</span>Brinquedos educativos</li>
        <li class="details-item"><span class="icon">üëó</span>Roupas tamanho 2 anos (cores suaves)</li>
        <li class="details-item"><span class="icon">ü©∞</span>Cal√ßados tamanho 22</li>
      </ul>
      <div class="button-row">
        <a class="btn btn-secondary" target="_blank" rel="noopener"
           href="https://wa.me/5521993835163?text=Oi%2C%20tenho%20uma%20d%C3%BAvida%20sobre%20o%20presente%20da%20Isabella">
          D√∫vidas sobre o presente
        </a>
      </div>
    </section>

    <!-- Playlist (Apple Music embed) -->
    <section class="card card--tight" id="playlist-section">
      <h2>Playlist da festa</h2>
      <iframe class="playlist-iframe"
              allow="autoplay *; encrypted-media *; fullscreen *"
              sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation-by-user-activation"
              src="https://embed.music.apple.com/br/playlist/playlist-festa-da-isabella/pl.u-MRjJtWNaq0M"
              title="Playlist da Festa"></iframe>
    </section>

    <!-- Card de Tempo -->
    <section class="weather-wrapper">
      <div class="weather-card">
        <h2 class="weather-app">Tempo</h2>
        <div class="weather-date" id="weatherDate">‚Äî</div>
        <div class="weather-text" id="weatherText">Carregando‚Ä¶</div>
        <div class="weather-source" id="weatherSource">Fonte: ‚Äî</div>
      </div>
    </section>
  </main>

  <!-- Marca d'√°gua -->
  <footer>¬© 2025 Hugo Mattos. Todos os direitos reservados.</footer>

  <!-- ===== Modal RSVP ===== -->
  <div class="modal" id="rsvpModal" aria-hidden="true">
    <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="rsvpTitle">
      <div class="modal-header">
        <h3 id="rsvpTitle">Confirma√ß√£o de presen√ßa ‚ú®</h3>
        <button class="modal-close" id="rsvpClose">Fechar</button>
      </div>

      <p class="hint">
        Ol√°! Este espa√ßo √© exclusivo para sua confirma√ß√£o de presen√ßa no anivers√°rio da Isabella.
        Seu nome j√° est√° na lista oficial ‚Äî aqui √© apenas para registrar seus dados, o nome do seu acompanhante e dos seus filhos.
      </p>

      <!-- Sim / N√£o -->
      <div class="rsvp-options" id="rsvpChoices">
        <button type="button" class="pill active" data-value="sim">Sim</button>
        <button type="button" class="pill" data-value="nao">N√£o</button>
      </div>

      <form id="rsvpForm" class="form-row">
        <div>
          <label for="nome">Seu nome *</label>
          <input id="nome" name="nome" required placeholder="Ex.: Maria Silva">
        </div>
        <div>
          <label for="acomp">Nome do acompanhante *</label>
          <input id="acomp" name="acomp" required placeholder="Ex.: Jo√£o Souza">
        </div>

        <div>
          <label for="temFilhos">Levar√° filhos? *</label>
          <select id="temFilhos" required>
            <option value="">Selecione‚Ä¶</option>
            <option value="nao">N√£o</option>
            <option value="sim">Sim</option>
          </select>
        </div>

        <div id="childrenBox" style="display:none">
          <label>Filhos (nome e idade) *</label>
          <div class="children-list" id="childrenList"></div>
          <div class="button-row" style="margin-top:6px">
            <button type="button" class="btn btn-secondary" id="addChild">+ Adicionar filho</button>
          </div>
        </div>

        <div class="modal-actions">
          <button type="submit" class="btn btn-primary">Enviar pelo WhatsApp</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      /* √Ålbum (10 fotos fonte, 6 vis√≠veis) */
      const previewImages = [
        'album2/IMG_5139.jpeg','album2/IMG_5010.jpeg','album2/IMG_4772.jpeg',
        'album2/IMG_4765.jpeg','album2/IMG_4639.jpeg','album2/IMG_6911.jpeg',
        'album2/IMG_4450.jpeg','album2/IMG_4352.jpeg','album2/IMG_3056.jpeg',
        'album2/96f8947a-603d-43c7-b498-292922662164.jpeg'
      ];
      const frames = document.querySelectorAll('.album-preview .frame');
      function shuffle(a){const b=a.slice();for(let i=b.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[b[i],b[j]]=[b[j],b[i]]}return b;}
      function fillPreview(){
        const imgs = shuffle(previewImages);
        frames.forEach((frame, idx) => {
          const img = frame.querySelector('img');
          img.src = imgs[idx % imgs.length];
          const angle = (Math.random()*10 - 5);
          frame.style.setProperty('--tilt', angle + 'deg');
        });
      }
      fillPreview();
      setInterval(fillPreview, 8000);

      /* M√∫sica: tocar MP3 local (sem redirecionar/rolar) */
      const welcome = document.getElementById('welcome');
      const startBtn = document.getElementById('start-music');
      const enterSilent = document.getElementById('enter-silent');
      const audio = document.getElementById('ambient-music');
      audio.volume = 0.35;

      function closeWelcome(){ welcome.style.display='none'; }

      startBtn?.addEventListener('click', async () => {
        try {
          await audio.play(); // reprodu√ß√£o inicia por gesto do usu√°rio (compat√≠vel com iOS)
        } catch(e) {
          console.warn('Falha ao iniciar √°udio:', e);
        }
        closeWelcome();
      });

      enterSilent?.addEventListener('click', () => {
        try { audio.pause(); audio.currentTime = 0; } catch(_) {}
        closeWelcome();
      });

      /* ===== Modal RSVP (WhatsApp) ===== */
      const openRsvp = document.getElementById('open-rsvp');
      const modal = document.getElementById('rsvpModal');
      const closeBtn = document.getElementById('rsvpClose');
      const pills = document.querySelectorAll('.pill');
      const form = document.getElementById('rsvpForm');
      const temFilhos = document.getElementById('temFilhos');
      const childrenBox = document.getElementById('childrenBox');
      const childrenList = document.getElementById('childrenList');
      const addChild = document.getElementById('addChild');

      let status = 'sim'; // default

      function toggleModal(show){ modal.classList.toggle('show', !!show); document.body.style.overflow = show ? 'hidden' : ''; }
      openRsvp.addEventListener('click', ()=> toggleModal(true));
      closeBtn.addEventListener('click', ()=> toggleModal(false));
      modal.addEventListener('click', (e)=>{ if(e.target === modal) toggleModal(false); });

      pills.forEach(p=>{
        p.addEventListener('click', ()=>{
          pills.forEach(x=>x.classList.remove('active'));
          p.classList.add('active');
          status = p.dataset.value; // 'sim' ou 'nao'
        });
      });

      temFilhos.addEventListener('change', ()=>{
        if(temFilhos.value === 'sim'){
          childrenBox.style.display = '';
          if(childrenList.children.length === 0) addChildRow();
        }else{
          childrenBox.style.display = 'none';
          childrenList.innerHTML = '';
        }
      });

      function addChildRow(name='', age=''){
        const row = document.createElement('div');
        row.className = 'child-row';
        row.innerHTML = `
          <input placeholder="Nome da crian√ßa" required value="${name}">
          <input placeholder="Idade" type="number" min="0" max="17" required value="${age}">
          <button type="button" aria-label="Remover filho">‚úï</button>
        `;
        row.querySelector('button').addEventListener('click', ()=> row.remove());
        childrenList.appendChild(row);
      }
      addChild.addEventListener('click', ()=> addChildRow());

      form.addEventListener('submit', (e)=>{
        e.preventDefault();
        const nome = document.getElementById('nome').value.trim();
        const acomp = document.getElementById('acomp').value.trim();

        if(!nome || !acomp){ alert('Preencha todos os campos obrigat√≥rios.'); return; }

        let filhosTxt = 'Sem filhos.';
        if(temFilhos.value === 'sim'){
          const rows = [...childrenList.querySelectorAll('.child-row')];
          if(rows.length === 0){ alert('Adicione pelo menos 1 filho.'); return; }
          const list = [];
          for(const r of rows){
            const n = r.children[0].value.trim();
            const i = r.children[1].value.trim();
            if(!n || !i){ alert('Informe nome e idade de cada filho.'); return; }
            list.push(`${n} (${i} anos)`);
          }
          filhosTxt = list.join(', ');
        }

        const vai = (status === 'sim');
        const header = vai
          ? 'Ol√°! Confirmo minha presen√ßa no anivers√°rio da Isabella üéâ'
          : 'Ol√°! Infelizmente n√£o poderei comparecer ao anivers√°rio da Isabella üòî';

        const msg =
`${header}

‚Ä¢ Nome: ${nome}
‚Ä¢ Acompanhante: ${acomp}
‚Ä¢ Filhos: ${filhosTxt}`;

        const url = 'https://wa.me/5521993835163?text=' + encodeURIComponent(msg);
        window.open(url, '_blank', 'noopener');
        toggleModal(false);
      });
    });

    /* Tempo: previs√£o/climatologia */
    (function(){
      const EVENT_DATE_DEFAULT = '2025-11-22';
      const LAT = -22.606, LON = -43.490;
      const TZ = 'America/Sao_Paulo';
      const qs = new URLSearchParams(location.search);
      const EVENT_DATE = qs.get('data') || EVENT_DATE_DEFAULT;

      function formatPtBRDate(iso){
        const d = new Date(iso + 'T12:00:00');
        return new Intl.DateTimeFormat('pt-BR',{ day:'2-digit', month:'long'}).format(d);
      }
      document.getElementById('weatherDate').textContent = formatPtBRDate(EVENT_DATE);

      function daysTo(dateIso){
        const today = new Date(); today.setHours(0,0,0,0);
        const ev = new Date(dateIso+'T00:00:00');
        return Math.round((ev - today)/86400000);
      }
      const dleft = daysTo(EVENT_DATE);
      const elText = document.getElementById('weatherText');
      const elSource = document.getElementById('weatherSource');

      function setSourceStamp(sourceName){
        const now = new Date();
        const fmt = new Intl.DateTimeFormat('pt-BR', {
          day:'2-digit', month:'short', hour:'2-digit', minute:'2-digit',
          timeZone: TZ
        }).format(now).replace('.', '');
        elSource.innerHTML = `Fonte: <a href="https://open-meteo.com/" target="_blank" rel="noopener">${sourceName}</a> ‚Ä¢ Atualizado em ${fmt} (BRT)`;
      }

      async function getDailyForecast(){
        const url = new URL('https://api.open-meteo.com/v1/forecast');
        url.search = new URLSearchParams({
          latitude: LAT, longitude: LON, timezone: TZ,
          daily: 'temperature_2m_max,temperature_2m_min,precipitation_probability_mean',
          start_date: EVENT_DATE, end_date: EVENT_DATE
        });
        const r = await fetch(url); if(!r.ok) throw new Error('forecast http');
        return r.json();
      }
      async function getClimateNormals(month){
        const url = new URL('https://climate-api.open-meteo.com/v1/climate');
        url.search = new URLSearchParams({
          latitude: LAT, longitude: LON,
          start_year: 1991, end_year: 2020, models: 'ERA5',
          monthly: 'temperature_2m_max_mean,temperature_2m_min_mean,precipitation_probability_mean',
          month: month
        });
        const r = await fetch(url); if(!r.ok) throw new Error('climate http');
        return r.json();
      }

      (async () => {
        try{
          if(dleft >= 0 && dleft <= 16){
            const data = await getDailyForecast();
            const d = data.daily;
            const tmax = Math.round(d.temperature_2m_max[0]);
            const tmin = Math.round(d.temperature_2m_min[0]);
            const ppop = d.precipitation_probability_mean?.[0];
            elText.textContent =
              (typeof ppop === 'number')
              ? `Previs√£o: entre ${tmin}¬∞ e ${tmax}¬∞, chance de chuva ${ppop}%`
              : `Previs√£o: entre ${tmin}¬∞ e ${tmax}¬∞`;
            setSourceStamp('Open‚ÄëMeteo (previs√£o di√°ria)');
          }else{
            const month = Number(EVENT_DATE.split('-')[1]);
            const clim = await getClimateNormals(month);
            const m = clim.monthly || clim.daily || {};
            const tmax = Math.round(m.temperature_2m_max_mean?.[0] ?? 27);
            const tmin = Math.round(m.temperature_2m_min_mean?.[0] ?? 20);
            elText.textContent = `Nesta √©poca do ano, a temperatura costuma variar entre ${tmin}¬∞ e ${tmax}¬∞.`;
            setSourceStamp('Open‚ÄëMeteo (climatologia 1991‚Äì2020)');
          }
        }catch(e){
          console.warn('Tempo: fallback est√°tico', e);
          elText.textContent = 'Nesta √©poca do ano, a temperatura varia entre 20¬∞ e 27¬∞.';
          setSourceStamp('Open‚ÄëMeteo');
        }
      })();
    })();
  </script>
</body>
</html>
